services:
  radarr:
    image: lscr.io/linuxserver/radarr:latest
    container_name: Radarr
    environment:
      - PUID=${UID}
      - PGID=${GID}
      - TZ=Europe/Amsterdam
    volumes:
      - ${VOLUMEDIR}/radarr:/config
      - ${MEDIADIR}/movies:/movies
      - ${MEDIADIR}/downloads:/app/qBittorrent/downloads
      - ${MEDIADIR}/downloads/complete/Movies:/downloads/complete/Movies
    network_mode: "service:gluetun"
    depends_on:
      gluetun:
        condition: service_started
      qbittorrent:
        condition: service_started
    labels:
      - "traefik.enable=true"
      - "traefik.http.routers.radarr.rule=Host(`radarr.home.local`)"
      - "traefik.http.routers.radarr.entrypoints=web,websecure"
      - "traefik.http.services.radarr.loadbalancer.server.port=7878"
    restart: always